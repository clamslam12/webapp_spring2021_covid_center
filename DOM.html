<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Document Object Model</title>
  </head>
  <body>
    <h1>Document Object Model</h1>
    <div>
      <img src="/images/dom_example.jpg" alt="" />
      <div style="margin-top: 50px">
        <img src="/images/dom_hierarchy.jpg" alt="" />
      </div>
    </div>
    <!--

Document Object Model (DOM) is a cross-platform and language-independent interface that treats an HTML document as a tree structure 
wherein each node is an object representing a part of the document.

DOM represents a document with a logical tree. Each branch of the tree ends in a node, and each node contains objects.

DOM methods allow programmatic access to the tree; with them one can change the structure, style or content of a document.

Nodes can have event handlers attached to them. Once an event is triggered, the event handlers get executed.

***************************************************************************
Accessing Elements

Access elements via their ID attribute (returns one element or null)
var elem = document.getElementById("some_id")

Access elements via the name attribute (note that it returns an array of elements)
var arr = document.getElementsByName("some_name")

Access elements via tag name
var imgTags = document.getElementsByTagName("img")

***************************************************************************
QuerySelector: Another way to access DOM elements

Access elements using id
var elem = document.querySelector("#demo").

Access all p elements:
var arr = document.querySelector("p")

Access all elements with a specific class:
var arr = document.querySelector(".example");

***************************************************************************
Accessing Element Properties

Element properties are mostly derived from HTML attributes of that element
id, name, href, title, src
document.getElementbyId("img1").src = "image.jpg"

Some properties are common to all elements, while some properties are specific to certain elements.
id, style, className are important examples of common properties.
href, src are specific to certain elements.

***************************************************************************
Important Common Properties

className – the class attribute of the tag

value – sets/gets the value of an element.

innerHTML – gets/sets all the entire HTML code inside the element

textContent – gets/sets the text content of the specified node, and all its descendants.

style - change the styling properties of the element.
style.width, style.marginTop, style.backgroundImage

Read-only properties with information for the current element and its state
tagName, offsetWidth, nodeType

***************************************************************************
HTML DOM Event Model

JavaScript can register event handlers
Events are fired by Browser annd sent to the specified JavaScript event handler function
Can be set with HTML attributes:

Three ways to register event handleres:
----------------------
Method 1: using element attribtes (called inline events):
<img src="test.gif" onclick="imageClicked()" />
---------------------
Method 2: using DOM methods to assign event handler functions to event properties:

var img = document.getElementById("myImage");
img.onclick = function(){
  ...
};

All event handlers receive one parameter called event

It brings information about the event:
    it contains the type of the event (mouse click, key press, etc.)
    It includes data about the location where the event has been fired (e.g. mouse coordinates)
It Holds a reference to the event sender
    For example, the button that was clicked

lampImg.onmouseout = function(event){
  change('off');
  console.log(event.target.id); //prints "lamp"
}
----------------------
Method 3: Unobtrusive event binding
using element.addEventListener method to register event handleres:
function doIt(event){
    this.title = “hello world!”;
    
}
document.getElementbyId(“id”).addEventListener(“click”, doIt);

Difference between method 2 and 3: 
with method 2, only one event handler (the last one) could be registered to an event. 
But with method 3 (unobtrusive), multiple event handlers could be registered and they all will be executed when the event is fired.

***************************************************************************
Common DOM Events

Mouse events:
onclick, onmousedown, onmouseup, onmouseover, onmouseout, onmousemove

Key events (Only for input fields):
onkeypress, onkeydown, onkeyup

Interface events:
onblur, onfocus
onscroll

Form events
onchange – for input fields
onsubmit - fired on submission of a form (when submit button is pressed)
It can cancel submission of a form if form input values fail validation.

Miscellaneous events
onload, onunload
Allowed only for the <body> element.
Fires when all content on the page has been loaded/unloaded.

<body onload="greet()">
...
</body>

***************************************************************************
The Built-In Browser Objects

The browser provides some read-only data via:

window
The top node of the DOM tree
Represents the browser's window

document
holds information the current loaded document

screen
Holds the user's display properties

browser
Holds information about the browser

***************************************************************************
window object

represents an open window in a browser.

var newWindow = window.open("", "sampleWindow",
  "width=300, height=100, menubar=yes,
  status=yes, resizable=yes");

newWindow.document.write(
  "<html><head><title>
  Sample Title</title>
  </head><body><h1>Sample
  Text</h1></body>");
newWindow.status = 
  "Hello folks";

***************************************************************************
window object (cont.)

self refers to current window/frame.
parent refers to the parent window/frame of current frame
top refers to the outermost frame

console.log(window.parent.location)

***************************************************************************
navigator object

contains information about the browser.

console.log(window.navigator.userAgent);

***************************************************************************
document object

Provides arrays of objects on the currently loaded Web page.

document.links[0].href = "https://www.google.com/";
document.write("This is some <b>bold text</b>");

document.location is used to access the currently open URL or redirect the browser
document.location.href = "https://www.google.com/";

***************************************************************************
Accessing Cookies

Remember that HTTP is stateless: when a web server has sent a response to a browser request, the connection is shut down, and the server forgets everything about the request.

Cookies were invented to solve the problem "how to remember information about the user":

Cookies are files containing key-value pairs, that are sent along with HTTP response to the browser to be stored.

When a browser requests a web page from a server, cookies belonging to the page are added to the request. This way the server gets the necessary data to "remember" information about users.

***************************************************************************
Accessing cookies (cont.)

console.log(document.cookie)

You can also set the cookie; for example, you can add an expiry date (in UTC time). By default, the cookie is deleted when the browser is closed:
- document.cookie = "username=John Doe; expires=Thu, 18 Dec 2013 12:00:00 UTC";

***************************************************************************
history object

Contains the URLs visited by the user

<button onclick="goBack()">Go Back</button>

<script>
function goBack() {
  window.history.back(); //or window.history.go(-1);
}
</script>

***************************************************************************


        -->
  </body>
</html>
